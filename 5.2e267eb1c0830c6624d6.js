(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{DJfY:function(t,e,o){"use strict";o.r(e),o.d(e,"VentasModule",(function(){return At}));var c=o("ofXK"),a=o("OLFy"),i=o("tyNb"),n=o("M9IT"),r=o("2Vo4"),l=o("LRne"),b=o("JIr8"),s=o("nYR2");class u{constructor(t){this.saleService=t,this.productSubject=new r.a([]),this.loadingSubject=new r.a(!1),this.loading$=this.loadingSubject.asObservable()}connect(t){return this.productSubject.asObservable()}disconnect(t){this.productSubject.complete(),this.loadingSubject.complete()}loadSales(){console.log("estamos aqui en mexico"),this.loadingSubject.next(!0),this.saleService.getAll().pipe(Object(b.a)(()=>Object(l.a)([])),Object(s.a)(()=>this.loadingSubject.next(!1))).subscribe(t=>{this.productSubject.next(t)})}}var d=o("Iab2"),m=o("fXoL"),f=o("iQyR"),p=o("AytR"),h=o("tk/3"),S=o("bNrf");const v=p.a.serverUrl;let y=(()=>{class t{constructor(t,e){this.http=t,this.tokenStorageService=e}get(t){return this.http.post(v+"/ventas/verdetalles",{idventa:t,rut_empresa:this.tokenStorageService.getUser().rut_empresa})}getExcel(t){return this.http.post(v+"/ventas/excell",{fecha:t,rut_empresa:this.tokenStorageService.getUser().rut_empresa},{responseType:"blob"})}}return t.\u0275fac=function(e){return new(e||t)(m.Xb(h.b),m.Xb(S.a))},t.\u0275prov=m.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var g=o("/t3+"),T=o("XiUz"),w=o("bTqV"),C=o("NFeN"),x=o("znSr"),B=o("+0xr");function z(t,e){1&t&&(m.Tb(0,"th",19),m.zc(1,"id"),m.Sb())}function O(t,e){if(1&t&&(m.Tb(0,"td",20),m.zc(1),m.Sb()),2&t){const t=e.$implicit;m.Bb(1),m.Ac(t.idVenta)}}function R(t,e){1&t&&(m.Tb(0,"th",19),m.zc(1,"fecha"),m.Sb())}function k(t,e){if(1&t&&(m.Tb(0,"td",20),m.zc(1),m.Sb()),2&t){const t=e.$implicit;m.Bb(1),m.Ac(t.fecha)}}function L(t,e){1&t&&(m.Tb(0,"th",19),m.zc(1,"hora"),m.Sb())}function D(t,e){if(1&t&&(m.Tb(0,"td",20),m.zc(1),m.Sb()),2&t){const t=e.$implicit;m.Bb(1),m.Bc(" ",t.hora," ")}}function P(t,e){1&t&&(m.Tb(0,"th",19),m.zc(1,"rut vendedor"),m.Sb())}function j(t,e){if(1&t&&(m.Tb(0,"td",20),m.zc(1),m.Sb()),2&t){const t=e.$implicit;m.Bb(1),m.Bc(" ",t.personal_rut," ")}}function A(t,e){1&t&&(m.Tb(0,"th",19),m.zc(1,"Total"),m.Sb())}function E(t,e){if(1&t&&(m.Tb(0,"td",20),m.zc(1),m.Sb()),2&t){const t=e.$implicit;m.Bb(1),m.Bc(" ",t.total," ")}}function Q(t,e){1&t&&m.Ob(0,"th",19)}function $(t,e){if(1&t&&(m.Tb(0,"td",21),m.Tb(1,"a",22),m.Tb(2,"mat-icon",23),m.zc(3,"visibility"),m.Sb(),m.Sb(),m.Sb()),2&t){const t=e.$implicit;m.Bb(1),m.mc("routerLink","detalle/",t.idVenta,"")}}function V(t,e){1&t&&m.Ob(0,"th",19)}function _(t,e){if(1&t){const t=m.Ub();m.Tb(0,"td",21),m.Tb(1,"a",24),m.bc("click",(function(o){m.rc(t);const c=e.$implicit;return m.fc().deleteProduct(o,c.idVenta)})),m.Tb(2,"mat-icon",23),m.zc(3,"backspace"),m.Sb(),m.Sb(),m.Sb()}}function M(t,e){1&t&&m.Ob(0,"tr",25)}function N(t,e){1&t&&m.Ob(0,"tr",26)}const F=function(){return[5,10,20]};let U=(()=>{class t{constructor(t,e){this.ventaService=t,this.downloadService=e,this.displayedColumns=["idVenta","fecha","hora","personal_rut","total","view","delete"]}ngOnInit(){this.dataSource=new u(this.ventaService),this.dataSource.loadSales()}deleteProduct(t,e){this.ventaService.delete(e).subscribe(t=>{this.dataSource.loadSales()},t=>{console.log(t)})}obtenerExcel(){this.downloadService.getExcel(null).subscribe(t=>{console.log(t);const e=new Blob([t],{type:"application/vnd.ms.excel"}),o=new File([e],"excel.xls",{type:"application/vnd.ms.excel"});d.saveAs(o)},t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(m.Nb(f.a),m.Nb(y))},t.\u0275cmp=m.Hb({type:t,selectors:[["app-ventas"]],viewQuery:function(t,e){var o;1&t&&m.vc(n.a,!0),2&t&&m.oc(o=m.cc())&&(e.paginator=o.first)},decls:41,vars:5,consts:[["fxLayout","row","fxLayoutAlign","space-between center"],["routerLink","vender","mat-raised-button","","color","primary"],["mat-raised-button","","color","primary",3,"click"],["fxLayout","column"],["fxLayout","column","ngClass.xs","scrollable",1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","idVenta","fxFlex","auto"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","fecha"],["matColumnDef","hora"],["matColumnDef","personal_rut"],["matColumnDef","total"],["matColumnDef","view"],["mat-cell","","class","action-link",4,"matCellDef"],["matColumnDef","delete"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"action-link"],[3,"routerLink"],["aria-hidden","false","aria-label","Example home icon"],["routerLink","./",1,"a-warning",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(m.Tb(0,"mat-toolbar",0),m.Tb(1,"div"),m.Tb(2,"span"),m.zc(3,"Ventas"),m.Sb(),m.Sb(),m.Tb(4,"div"),m.Tb(5,"button",1),m.Tb(6,"mat-icon"),m.zc(7,"person"),m.Sb(),m.zc(8," Realizar Venta "),m.Sb(),m.Tb(9,"button",2),m.bc("click",(function(){return e.obtenerExcel()})),m.Tb(10,"mat-icon"),m.zc(11,"person"),m.Sb(),m.zc(12," Obtener Excel "),m.Sb(),m.Sb(),m.Sb(),m.Tb(13,"section",3),m.Tb(14,"div",3),m.Tb(15,"div",4),m.Tb(16,"table",5),m.Rb(17,6),m.yc(18,z,2,0,"th",7),m.yc(19,O,2,1,"td",8),m.Qb(),m.Rb(20,9),m.yc(21,R,2,0,"th",7),m.yc(22,k,2,1,"td",8),m.Qb(),m.Rb(23,10),m.yc(24,L,2,0,"th",7),m.yc(25,D,2,1,"td",8),m.Qb(),m.Rb(26,11),m.yc(27,P,2,0,"th",7),m.yc(28,j,2,1,"td",8),m.Qb(),m.Rb(29,12),m.yc(30,A,2,0,"th",7),m.yc(31,E,2,1,"td",8),m.Qb(),m.Rb(32,13),m.yc(33,Q,1,0,"th",7),m.yc(34,$,4,1,"td",14),m.Qb(),m.Rb(35,15),m.yc(36,V,1,0,"th",7),m.yc(37,_,4,0,"td",14),m.Qb(),m.yc(38,M,1,0,"tr",16),m.yc(39,N,1,0,"tr",17),m.Sb(),m.Ob(40,"mat-paginator",18),m.Sb(),m.Sb(),m.Sb()),2&t&&(m.Bb(16),m.lc("dataSource",e.dataSource),m.Bb(22),m.lc("matHeaderRowDef",e.displayedColumns),m.Bb(1),m.lc("matRowDefColumns",e.displayedColumns),m.Bb(1),m.lc("pageSizeOptions",m.nc(4,F)))},directives:[g.a,T.e,T.d,w.b,i.d,C.a,x.a,B.j,B.c,T.b,B.e,B.b,B.g,B.i,n.a,B.d,B.a,i.f,B.f,B.h],styles:["table[_ngcontent-%COMP%]{width:100%}.scrollable[_ngcontent-%COMP%]{overflow-x:scroll}.a-warning[_ngcontent-%COMP%]{color:red}"]}),t})();var H=o("3Pt+");class q{constructor(t){this.staticProductService=t,this.products=[],this.productSubject=new r.a([])}connect(t){return this.productSubject.asObservable()}disconnect(t){this.productSubject.complete()}loadSales(){this.productSubject.next(this.staticProductService.getAll())}}var I=o("IeDO"),X=o("RKtL"),G=o("Wp6s"),J=o("kmnG"),K=o("qFsG"),Y=o("iadO");function W(t,e){1&t&&(m.Tb(0,"th",33),m.zc(1,"id"),m.Sb())}function Z(t,e){if(1&t&&(m.Tb(0,"td",34),m.zc(1),m.Sb()),2&t){const t=e.$implicit;m.Bb(1),m.Ac(t.idProducto)}}function tt(t,e){1&t&&(m.Tb(0,"th",33),m.zc(1,"Nombre"),m.Sb())}function et(t,e){if(1&t&&(m.Tb(0,"td",34),m.zc(1),m.Sb()),2&t){const t=e.$implicit;m.Bb(1),m.Ac(t.nombre)}}function ot(t,e){1&t&&(m.Tb(0,"th",33),m.zc(1,"Precio"),m.Sb())}function ct(t,e){if(1&t&&(m.Tb(0,"td",34),m.zc(1),m.gc(2,"currency"),m.Sb()),2&t){const t=e.$implicit;m.Bb(1),m.Bc(" ",m.ic(2,1,t.precio,"CLP","$")," ")}}function at(t,e){1&t&&(m.Tb(0,"th",33),m.zc(1,"Codigo de Barra"),m.Sb())}function it(t,e){if(1&t&&(m.Tb(0,"td",34),m.zc(1),m.Sb()),2&t){const t=e.$implicit;m.Bb(1),m.Bc(" ",t.codigodebarra," ")}}function nt(t,e){1&t&&(m.Tb(0,"th",33),m.zc(1,"Cantidad"),m.Sb())}function rt(t,e){if(1&t){const t=m.Ub();m.Tb(0,"td",34),m.Tb(1,"span",35,36),m.zc(3,"1"),m.Sb(),m.Tb(4,"button",37),m.bc("click",(function(){m.rc(t);const o=e.$implicit,c=m.pc(2);return m.fc().minusProduct(c,o.stock,o.precio)})),m.Tb(5,"mat-icon"),m.zc(6,"remove"),m.Sb(),m.Sb(),m.Tb(7,"button",38),m.bc("click",(function(){m.rc(t);const o=e.$implicit,c=m.pc(2);return m.fc().plusProduct(c,o.stock,o.precio)})),m.Tb(8,"mat-icon"),m.zc(9,"add"),m.Sb(),m.Sb(),m.Sb()}if(2&t){const t=e.$implicit;m.Bb(1),m.Cb("data.idProducto",t.idProducto)}}function lt(t,e){1&t&&(m.Tb(0,"th",33),m.zc(1,"Categoria"),m.Sb())}function bt(t,e){if(1&t&&(m.Tb(0,"td",34),m.zc(1),m.Sb()),2&t){const t=e.$implicit;m.Bb(1),m.Ac(t.categoria)}}function st(t,e){1&t&&m.Ob(0,"th",33)}function ut(t,e){if(1&t&&(m.Tb(0,"td",39),m.Tb(1,"a",40),m.Tb(2,"mat-icon",41),m.zc(3,"edit"),m.Sb(),m.Sb(),m.Sb()),2&t){const t=e.$implicit;m.Bb(1),m.mc("routerLink","editar/",t.idProducto,"")}}function dt(t,e){1&t&&m.Ob(0,"th",33)}function mt(t,e){if(1&t){const t=m.Ub();m.Tb(0,"td",39),m.Tb(1,"a",42),m.bc("click",(function(o){m.rc(t);const c=e.$implicit;return m.fc().deleteProduct(o,c.idProducto)})),m.Tb(2,"mat-icon",41),m.zc(3,"backspace"),m.Sb(),m.Sb(),m.Sb()}}function ft(t,e){1&t&&m.Ob(0,"tr",43)}function pt(t,e){1&t&&m.Ob(0,"tr",44)}const ht=function(){return[5,10,20]};function St(t,e){1&t&&(m.Tb(0,"th",20),m.zc(1,"id"),m.Sb())}function vt(t,e){if(1&t&&(m.Tb(0,"td",21),m.zc(1),m.Sb()),2&t){const t=e.$implicit;m.Bb(1),m.Ac(t.idProducto)}}function yt(t,e){1&t&&(m.Tb(0,"th",20),m.zc(1,"Nombre"),m.Sb())}function gt(t,e){if(1&t&&(m.Tb(0,"td",21),m.zc(1),m.Sb()),2&t){const t=e.$implicit;m.Bb(1),m.Ac(t.nombre)}}function Tt(t,e){1&t&&(m.Tb(0,"th",20),m.zc(1,"Precio"),m.Sb())}function wt(t,e){if(1&t&&(m.Tb(0,"td",21),m.zc(1),m.gc(2,"currency"),m.Sb()),2&t){const t=e.$implicit;m.Bb(1),m.Bc(" ",m.ic(2,1,t.precio,"CLP","$")," ")}}function Ct(t,e){1&t&&(m.Tb(0,"th",20),m.zc(1,"Codigo de Barra"),m.Sb())}function xt(t,e){if(1&t&&(m.Tb(0,"td",21),m.zc(1),m.Sb()),2&t){const t=e.$implicit;m.Bb(1),m.Bc(" ",t.codigodebarra," ")}}function Bt(t,e){1&t&&(m.Tb(0,"th",20),m.zc(1,"Cantidad"),m.Sb())}function zt(t,e){if(1&t&&(m.Tb(0,"td",21),m.zc(1),m.Sb()),2&t){const t=e.$implicit;m.Bb(1),m.Bc(" ",t.cantidad," ")}}function Ot(t,e){1&t&&(m.Tb(0,"th",20),m.zc(1,"Categoria"),m.Sb())}function Rt(t,e){if(1&t&&(m.Tb(0,"td",21),m.zc(1),m.Sb()),2&t){const t=e.$implicit;m.Bb(1),m.Ac(t.categoria)}}function kt(t,e){1&t&&m.Ob(0,"tr",22)}function Lt(t,e){1&t&&m.Ob(0,"tr",23)}const Dt=function(){return[5,10,20]},Pt=[{path:"",component:U},{path:"vender",component:(()=>{class t{constructor(t,e,o,c,a,i){this.formBuilder=t,this.elementRef=e,this.productoService=o,this.staticProductService=c,this.ventaService=a,this.router=i,this.displayedColumns=["id","nombre","precio","codigoBarra","stock","categoria","delete"],this.productos=[],this.precioTotalVisible=0,this.precioTotal=0,this.buildForm()}ngOnInit(){this.dataSource=new q(this.staticProductService),this.dataSource.loadSales()}ngOnDestroy(){this.staticProductService.cleanProducts()}vender(t){if(this.getProductsToBuy(),!this.isBuyValid())return;let e=this.form.value;e.total=this.precioTotal,this.ventaService.add(e,this.productos).subscribe(t=>{t.resultado&&this.router.navigate(["/admin/ventas"])},t=>{console.log(t)})}getProductsToBuy(){this.productos=[];let t=this.elementRef.nativeElement.getElementsByClassName("quantitys");for(let e=0;e<t.length;e++){const o=t[e];let c={idProducto:o.getAttribute("data.idproducto"),cantidad:+o.innerText};this.productos.push(c)}}searchByCode(t,e){t.preventDefault(),this.codigoBarra=e,this.productoService.getByCodigoBarra(this.codigoBarra).subscribe(t=>{if(t.producto){let e=t.producto;this.staticProductService.verifyProductOnList(e)?(this.updateQuantitySpan(e.idProducto),this.updateValorTotal()):(this.staticProductService.add(e),this.dataSource.loadSales(),this.updateValorTotal())}},t=>{console.log(t)})}updateQuantitySpan(t){let e=this.elementRef.nativeElement.getElementsByClassName("quantitys");for(let o=0;o<e.length;o++){const c=e[o];c.getAttribute("data.idproducto")===t&&(c.innerText=+c.innerText+1)}}updateValorTotal(){this.precioTotal=this.staticProductService.getValorTotal(),this.precioTotalVisible=this.precioTotal}plusProduct(t,e,o){let c=+t.innerText;this.staticProductService.plusValorTotal(o),this.updateValorTotal(),t.innerText=++c}minusProduct(t,e,o){let c=+t.innerText;this.staticProductService.minusValorTotal(o),this.updateValorTotal(),t.innerText=--c}deleteProduct(t,e){this.staticProductService.delete(e),this.dataSource.loadSales(),this.productos=this.productos.filter(t=>t.idProducto!=e)}isBuyValid(){return 0!==this.productos.length&&!this.productos.find(t=>t.cantidad<=0)&&!!this.form.valid}buildForm(){this.form=this.formBuilder.group({fecha:["",[H.p.required]]})}}return t.\u0275fac=function(e){return new(e||t)(m.Nb(H.c),m.Nb(m.l),m.Nb(I.a),m.Nb(X.a),m.Nb(f.a),m.Nb(i.c))},t.\u0275cmp=m.Hb({type:t,selectors:[["app-vender"]],viewQuery:function(t,e){var o;1&t&&m.vc(n.a,!0),2&t&&m.oc(o=m.cc())&&(e.paginator=o.first)},decls:66,vars:13,consts:[["fxLayout","row","fxLayoutAlign","space-between center"],["fxLayout","row"],["routerLink","../","mat-icon-button","","color","primary"],["fxFlexAlign","center"],["id","searchForm",3,"submit"],["value","","placeholder","ingresa aqui el codigo de barra para agregar productos"],["iCodigoBarra",""],["type","submit","mat-raised-button","","color","primary"],["fxLayout","column"],["fxLayout","column",2,"height","100%"],["id","formProduct","fxLayout","column",3,"formGroup","ngSubmit"],["matInput","","formControlName","fecha",3,"matDatepicker","click"],["matSuffix","",3,"for"],["touchUi",""],["picker",""],["fxFlex","auto","color","primary","mat-raised-button","","form","formProduct","type","submit"],["fxLayout","column","ngClass.xs","scrollable",1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","id","fxFlex","auto"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombre"],["matColumnDef","precio"],["matColumnDef","codigoBarra"],["matColumnDef","stock"],["matColumnDef","categoria"],["matColumnDef","edit"],["mat-cell","","class","action-link",4,"matCellDef"],["matColumnDef","delete"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["fxFlexOffset","auto"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],[1,"quantitys"],["quantity",""],["mat-icon-button","","aria-label","Example icon button with a vertical three dot icon","color","warn",3,"click"],["mat-icon-button","","aria-label","Example icon button with a vertical three dot icon","color","primary",3,"click"],["mat-cell","",1,"action-link"],[3,"routerLink"],["aria-hidden","false","aria-label","Example home icon"],["routerLink","./",1,"a-warning",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){if(1&t){const t=m.Ub();m.Tb(0,"mat-toolbar",0),m.Tb(1,"div",1),m.Tb(2,"a",2),m.Tb(3,"mat-icon"),m.zc(4,"arrow_back"),m.Sb(),m.Sb(),m.Tb(5,"span",3),m.zc(6,"Ventas"),m.Sb(),m.Sb(),m.Tb(7,"div"),m.Tb(8,"form",4),m.bc("submit",(function(o){m.rc(t);const c=m.pc(10);return e.searchByCode(o,c.value)})),m.Ob(9,"input",5,6),m.Tb(11,"button",7),m.Tb(12,"mat-icon"),m.zc(13,"search"),m.Sb(),m.zc(14," Agregar "),m.Sb(),m.Sb(),m.Sb(),m.Ob(15,"div"),m.Sb(),m.Tb(16,"section",8),m.Tb(17,"div",9),m.Tb(18,"div"),m.Tb(19,"mat-card"),m.Tb(20,"mat-card-content"),m.Tb(21,"form",10),m.bc("ngSubmit",(function(t){return e.vender(t)})),m.Tb(22,"mat-form-field"),m.Tb(23,"mat-label"),m.zc(24,"Choose a date"),m.Sb(),m.Tb(25,"input",11),m.bc("click",(function(){return m.rc(t),m.pc(28).open()})),m.Sb(),m.Ob(26,"mat-datepicker-toggle",12),m.Ob(27,"mat-datepicker",13,14),m.Sb(),m.Sb(),m.Tb(29,"div"),m.Tb(30,"h1"),m.zc(31),m.gc(32,"currency"),m.Sb(),m.Sb(),m.Sb(),m.Tb(33,"mat-card-actions",1),m.Tb(34,"button",15),m.zc(35," REALIZAR VENTA "),m.Sb(),m.Sb(),m.Sb(),m.Sb(),m.Tb(36,"div",16),m.Tb(37,"table",17),m.Rb(38,18),m.yc(39,W,2,0,"th",19),m.yc(40,Z,2,1,"td",20),m.Qb(),m.Rb(41,21),m.yc(42,tt,2,0,"th",19),m.yc(43,et,2,1,"td",20),m.Qb(),m.Rb(44,22),m.yc(45,ot,2,0,"th",19),m.yc(46,ct,3,5,"td",20),m.Qb(),m.Rb(47,23),m.yc(48,at,2,0,"th",19),m.yc(49,it,2,1,"td",20),m.Qb(),m.Rb(50,24),m.yc(51,nt,2,0,"th",19),m.yc(52,rt,10,1,"td",20),m.Qb(),m.Rb(53,25),m.yc(54,lt,2,0,"th",19),m.yc(55,bt,2,1,"td",20),m.Qb(),m.Rb(56,26),m.yc(57,st,1,0,"th",19),m.yc(58,ut,4,1,"td",27),m.Qb(),m.Rb(59,28),m.yc(60,dt,1,0,"th",19),m.yc(61,mt,4,0,"td",27),m.Qb(),m.yc(62,ft,1,0,"tr",29),m.yc(63,pt,1,0,"tr",30),m.Sb(),m.Sb(),m.Tb(64,"div",31),m.Ob(65,"mat-paginator",32),m.Sb(),m.Sb(),m.Sb()}if(2&t){const t=m.pc(28);m.Bb(21),m.lc("formGroup",e.form),m.Bb(4),m.lc("matDatepicker",t),m.Bb(1),m.lc("for",t),m.Bb(5),m.Bc("TOTAL: ",m.ic(32,8,e.precioTotalVisible,"CLP","$"),""),m.Bb(6),m.lc("dataSource",e.dataSource),m.Bb(25),m.lc("matHeaderRowDef",e.displayedColumns),m.Bb(1),m.lc("matRowDefColumns",e.displayedColumns),m.Bb(2),m.lc("pageSizeOptions",m.nc(12,ht))}},directives:[g.a,T.e,T.d,i.f,w.a,C.a,T.a,H.q,H.k,H.l,w.b,G.a,G.d,H.e,J.c,J.g,K.b,H.b,Y.b,H.j,H.d,Y.d,J.h,Y.a,G.b,T.b,x.a,B.j,B.c,B.e,B.b,B.g,B.i,T.c,n.a,B.d,B.a,B.f,B.h],pipes:[c.d],styles:["mat-toolbar[_ngcontent-%COMP%]{height:7%}section[_ngcontent-%COMP%]{height:93%}table[_ngcontent-%COMP%]{width:100%}.scrollable[_ngcontent-%COMP%]{overflow-x:scroll}.a-warning[_ngcontent-%COMP%]{color:red}mat-paginator[_ngcontent-%COMP%]{font-weight:500;color:#000}"]}),t})()},{path:"detalle/:id",component:(()=>{class t{constructor(t,e){this.activatedRoute=t,this.ventaService=e,this.displayedColumns=["id","nombre","precio","codigoBarra","stock","categoria"]}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.id=t.id,this.ventaService.get(this.id).subscribe(t=>{console.log(t),this.dataSource=new B.k(t.ventas),this.dataSource.paginator=this.paginator},t=>{console.log(t)})})}}return t.\u0275fac=function(e){return new(e||t)(m.Nb(i.a),m.Nb(f.a))},t.\u0275cmp=m.Hb({type:t,selectors:[["app-detalle"]],viewQuery:function(t,e){var o;1&t&&m.vc(n.a,!0),2&t&&m.oc(o=m.cc())&&(e.paginator=o.first)},decls:35,vars:5,consts:[["fxLayout","row","fxLayoutAlign","space-between center"],["fxLayout","row"],["routerLink","../../","mat-icon-button","","color","primary"],["fxFlexAlign","center"],["fxLayout","column"],["fxLayout","column","fxLayoutGap","20px"],[2,"height","60px"],["fxLayout","column","ngClass.xs","scrollable",1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","id","fxFlex","auto"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombre"],["matColumnDef","precio"],["matColumnDef","codigoBarra"],["matColumnDef","stock"],["matColumnDef","categoria"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(m.Tb(0,"mat-toolbar",0),m.Tb(1,"div",1),m.Tb(2,"a",2),m.Tb(3,"mat-icon"),m.zc(4,"arrow_back"),m.Sb(),m.Sb(),m.Tb(5,"span",3),m.zc(6,"Ventas"),m.Sb(),m.Sb(),m.Ob(7,"div"),m.Sb(),m.Tb(8,"section",4),m.Tb(9,"div",5),m.Tb(10,"div",6),m.zc(11," datos de la venta "),m.Sb(),m.Tb(12,"div",7),m.Tb(13,"table",8),m.Rb(14,9),m.yc(15,St,2,0,"th",10),m.yc(16,vt,2,1,"td",11),m.Qb(),m.Rb(17,12),m.yc(18,yt,2,0,"th",10),m.yc(19,gt,2,1,"td",11),m.Qb(),m.Rb(20,13),m.yc(21,Tt,2,0,"th",10),m.yc(22,wt,3,5,"td",11),m.Qb(),m.Rb(23,14),m.yc(24,Ct,2,0,"th",10),m.yc(25,xt,2,1,"td",11),m.Qb(),m.Rb(26,15),m.yc(27,Bt,2,0,"th",10),m.yc(28,zt,2,1,"td",11),m.Qb(),m.Rb(29,16),m.yc(30,Ot,2,0,"th",10),m.yc(31,Rt,2,1,"td",11),m.Qb(),m.yc(32,kt,1,0,"tr",17),m.yc(33,Lt,1,0,"tr",18),m.Sb(),m.Ob(34,"mat-paginator",19),m.Sb(),m.Sb(),m.Sb()),2&t&&(m.Bb(13),m.lc("dataSource",e.dataSource),m.Bb(19),m.lc("matHeaderRowDef",e.displayedColumns),m.Bb(1),m.lc("matRowDefColumns",e.displayedColumns),m.Bb(1),m.lc("pageSizeOptions",m.nc(4,Dt)))},directives:[g.a,T.e,T.d,i.f,w.a,C.a,T.a,T.f,x.a,B.j,B.c,T.b,B.e,B.b,B.g,B.i,n.a,B.d,B.a,B.f,B.h],pipes:[c.d],styles:["table[_ngcontent-%COMP%]{width:100%}.scrollable[_ngcontent-%COMP%]{overflow-x:scroll}.a-warning[_ngcontent-%COMP%]{color:red}"]}),t})()}];let jt=(()=>{class t{}return t.\u0275mod=m.Lb({type:t}),t.\u0275inj=m.Kb({factory:function(e){return new(e||t)},imports:[[i.g.forChild(Pt)],i.g]}),t})(),At=(()=>{class t{}return t.\u0275mod=m.Lb({type:t}),t.\u0275inj=m.Kb({factory:function(e){return new(e||t)},imports:[[c.c,jt,a.a,H.n,H.f]]}),t})()},Iab2:function(t,e,o){var c,a;void 0===(a="function"==typeof(c=function(){"use strict";function e(t,e,o){var c=new XMLHttpRequest;c.open("GET",t),c.responseType="blob",c.onload=function(){i(c.response,e,o)},c.onerror=function(){console.error("could not download file")},c.send()}function o(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function c(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(o)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,i=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype?function(t,i,n){var r=a.URL||a.webkitURL,l=document.createElement("a");l.download=i=i||t.name||"download",l.rel="noopener","string"==typeof t?(l.href=t,l.origin===location.origin?c(l):o(l.href)?e(t,i,n):c(l,l.target="_blank")):(l.href=r.createObjectURL(t),setTimeout((function(){r.revokeObjectURL(l.href)}),4e4),setTimeout((function(){c(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,a,i){if(a=a||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,i),a);else if(o(t))e(t,a,i);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout((function(){c(n)}))}}:function(t,o,c,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof t)return e(t,o,c);var n="application/octet-stream"===t.type,r=/constructor/i.test(a.HTMLElement)||a.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||n&&r)&&"object"==typeof FileReader){var b=new FileReader;b.onloadend=function(){var t=b.result;t=l?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=t:location=t,i=null},b.readAsDataURL(t)}else{var s=a.URL||a.webkitURL,u=s.createObjectURL(t);i?i.location=u:location.href=u,i=null,setTimeout((function(){s.revokeObjectURL(u)}),4e4)}});a.saveAs=i.saveAs=i,t.exports=i})?c.apply(e,[]):c)||(t.exports=a)}}]);